{"version":3,"sources":["../../../src/modules/chat/chat.gateway.ts"],"sourcesContent":["import { UseGuards } from '@nestjs/common'\nimport {\n\tSubscribeMessage,\n\tWebSocketGateway,\n\tWebSocketServer,\n} from '@nestjs/websockets'\nimport { ChatEventEnum } from '../../utils/chat.enum'\nimport { WsJwtGuard } from '../auth/guards/ws-jwt.guard'\n\n@WebSocketGateway(Number(process.env.BACKEND_SOCKET_PORT), {\n\tnamespace: 'chat',\n})\nexport class ChatGateway {\n\t@WebSocketServer()\n\tprotected server\n\n\t@SubscribeMessage(ChatEventEnum.MESSAGE_SEND)\n\t@UseGuards(WsJwtGuard)\n\tasync handleMessage(client, payload) {\n\t\tthis.server.emit(ChatEventEnum.MESSAGE_RECEIVED, payload)\n\t}\n}\n"],"names":["ChatGateway","handleMessage","client","payload","server","emit","ChatEventEnum","MESSAGE_RECEIVED","WebSocketServer","SubscribeMessage","MESSAGE_SEND","UseGuards","WsJwtGuard","WebSocketGateway","Number","process","env","BACKEND_SOCKET_PORT","namespace"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAYaA;;;eAAAA;;;wBAZa;4BAKnB;0BACuB;4BACH;;;;;;;;;;AAKpB,IAAA,AAAMA,cAAN,MAAMA;IAIZ,MAEMC,cAAcC,MAAM,EAAEC,OAAO,EAAE;QACpC,IAAI,CAACC,MAAM,CAACC,IAAI,CAACC,uBAAa,CAACC,gBAAgB,EAAEJ;IAClD;AACD;;IAREK,IAAAA,2BAAe;GADJR;;IAIXS,IAAAA,4BAAgB,EAACH,uBAAa,CAACI,YAAY;IAC3CC,IAAAA,iBAAS,EAACC,sBAAU;;;;;;;GALTZ;AAAAA;IAHZa,IAAAA,4BAAgB,EAACC,OAAOC,QAAQC,GAAG,CAACC,mBAAmB,GAAG;QAC1DC,WAAW;IACZ;GACalB"}